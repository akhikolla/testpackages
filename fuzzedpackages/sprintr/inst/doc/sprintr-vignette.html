<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Guo Yu" />

<meta name="date" content="2019-08-22" />

<title>Using the sprintr package</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' || rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Using the sprintr package</h1>
<h4 class="author">Guo Yu</h4>
<h4 class="date">2019-08-22</h4>



<p>The <code>sprintr</code> package contains the implementations of a computationally efficient method, called sprinter, to fit large interaction models based on the reluctant interaction selection principle. The details of the method can be found in <a href="https://arxiv.org/abs/1907.08414">Yu, Bien, and Tibshirani (2019) <em>Reluctant interaction modeling</em></a>. In particular, <code>sprinter</code> is a multi-stage method that fits the following pairwise interaction model: <span class="math display">\[
y = \sum_{j = 1}^p X_j \beta^\ast_j + \sum_{\ell \leq k} X_{\ell} X_k \gamma^\ast_{\ell k} + \varepsilon.
\]</span> This document serves as an introduction of using the package with a simple simulated data example.</p>
<div id="data-simulation" class="section level2">
<h2>Data simulation</h2>
<p>We consider the following simple simulation setting, where <span class="math inline">\(X \sim N(\mathbf{0}, \mathbf{I}_p)\)</span>. There are two non-trivial main effects <span class="math inline">\(\beta_1 = 1\)</span>, <span class="math inline">\(\beta_2 = -2\)</span>, and <span class="math inline">\(\beta_j = 0\)</span> for <span class="math inline">\(j &gt; 2\)</span>. The two important interactions are <span class="math inline">\(X_1 * X_3\)</span> with <span class="math inline">\(\gamma_{13} = 3\)</span>, and <span class="math inline">\(X_4 * X_5\)</span> with <span class="math inline">\(\gamma_{45} = -4\)</span>. With <span class="math inline">\(\varepsilon \sim N(0, 1)\)</span>, the following code simulates <span class="math inline">\(n = 100\)</span> observation from the model above with <span class="math inline">\(p = 200\)</span>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(sprintr)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">set.seed</span>(<span class="dv">123</span>)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3">n &lt;-<span class="st"> </span><span class="dv">100</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4">p &lt;-<span class="st"> </span><span class="dv">200</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5">x &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">data =</span> <span class="kw">rnorm</span>(n <span class="op">*</span><span class="st"> </span>p), <span class="dt">nrow =</span> n, <span class="dt">ncol =</span> p)</a>
<a class="sourceLine" id="cb1-6" data-line-number="6">y &lt;-<span class="st"> </span>x[, <span class="dv">1</span>] <span class="op">-</span><span class="st"> </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span>x[, <span class="dv">2</span>] <span class="op">+</span><span class="st"> </span><span class="dv">3</span> <span class="op">*</span><span class="st"> </span>x[, <span class="dv">1</span>] <span class="op">*</span><span class="st"> </span>x[, <span class="dv">3</span>] <span class="op">-</span><span class="st"> </span><span class="dv">4</span> <span class="op">*</span><span class="st"> </span>x[, <span class="dv">4</span>] <span class="op">*</span><span class="st"> </span>x[, <span class="dv">5</span>] <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">100</span>)</a></code></pre></div>
</div>
<div id="using-sprinter-function" class="section level2">
<h2>Using <code>sprinter</code> function</h2>
<p>The function <code>sprinter</code> implements the sprinter method (please note that the function name <code>sprinter</code> is different from the package name <code>sprintr</code>), which involves the following three main steps:</p>
<ul>
<li>Fit a lasso (with cross-validation) of the response <span class="math inline">\(y\)</span> only on main effects <span class="math inline">\(X\)</span> (if <code>square = FALSE</code>) or with both main effects and squared effects <span class="math inline">\((X, X^2)\)</span> (if <code>square = TRUE</code>).</li>
<li>Carry out a screening procedure based on the residual from the previous step. The number of the selected candidate interactions is specified by <code>num_keep</code> .</li>
<li>With a path of tuning parameter <code>lambda</code>, fit a lasso of the response on main effects, squared effects (if <code>square = TRUE</code>), and selected interactions from the previous step.</li>
</ul>
<p>There are two tuning parameters: <code>num_keep</code> (used in Step 2) and <code>lambda</code> (used in Step 3). If <code>num_keep</code> is not specified, it will then be set to <span class="math inline">\(n / \lceil \log n \rceil\)</span> (see, e.g., <a href="https://orfe.princeton.edu/~jqfan/papers/06/SIS.pdf">Fan &amp; Lv (2008)</a>). If <code>lambda</code> is not specified, then <code>sprinter</code> would compute its own path of tuning parameter values based on the number of tuning parameters (<code>nlam</code>) and the range of the path (<code>lam_min_ratio</code>).</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">mod &lt;-<span class="st"> </span><span class="kw">sprinter</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y, <span class="dt">square =</span> <span class="ot">FALSE</span>, <span class="dt">nlam =</span> <span class="dv">100</span>, <span class="dt">lam_min_ratio =</span> <span class="fl">0.01</span>)</a></code></pre></div>
<p>The output of <code>sprinter</code> is a <code>S3</code> object including several useful components. In particular, it involves a matrix <code>idx</code> that represents the index pairs of all variables considered in Step 3:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">mod<span class="op">$</span>idx[(p <span class="op">+</span><span class="st"> </span><span class="dv">1</span>) <span class="op">:</span><span class="st"> </span><span class="kw">nrow</span>(mod<span class="op">$</span>idx), ]</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="co">#&gt;       index_1 index_2</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co">#&gt;  [1,]      96     140</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co">#&gt;  [2,]       5      79</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="co">#&gt;  [3,]       7     113</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co">#&gt;  [4,]     113     155</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co">#&gt;  [5,]      94     148</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co">#&gt;  [6,]       5     173</span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co">#&gt;  [7,]     108     144</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co">#&gt;  [8,]       7     165</span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="co">#&gt;  [9,]      17      77</span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="co">#&gt; [10,]     158     175</span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="co">#&gt; [11,]       4     102</span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="co">#&gt; [12,]      58     108</span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15"><span class="co">#&gt; [13,]       5      97</span></a>
<a class="sourceLine" id="cb3-16" data-line-number="16"><span class="co">#&gt; [14,]      30     168</span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17"><span class="co">#&gt; [15,]       5     182</span></a>
<a class="sourceLine" id="cb3-18" data-line-number="18"><span class="co">#&gt; [16,]       5      25</span></a>
<a class="sourceLine" id="cb3-19" data-line-number="19"><span class="co">#&gt; [17,]     135     168</span></a>
<a class="sourceLine" id="cb3-20" data-line-number="20"><span class="co">#&gt; [18,]     115     175</span></a>
<a class="sourceLine" id="cb3-21" data-line-number="21"><span class="co">#&gt; [19,]       3     177</span></a>
<a class="sourceLine" id="cb3-22" data-line-number="22"><span class="co">#&gt; [20,]       4      96</span></a>
<a class="sourceLine" id="cb3-23" data-line-number="23"><span class="co">#&gt; [21,]       1       3</span></a>
<a class="sourceLine" id="cb3-24" data-line-number="24"><span class="co">#&gt; [22,]       4       5</span></a></code></pre></div>
<p>Since Step 3 of <code>sprinter</code> always includes the main effects, <code>mod$idx[(p + 1): nrow(mod$idx), ]</code> contains the indices of all the selected interactions from Step 2. The two columns of this output represents the index pair <span class="math inline">\((\ell, k)\)</span> of a selected interaction <span class="math inline">\(X_\ell * X_k\)</span>, where <span class="math inline">\(\ell \leq k\)</span>. Note that here the last two rows are the true interactions <span class="math inline">\(X_1 * X_3\)</span> and <span class="math inline">\(X_4 * X_5\)</span>. If the first entry of an index pair is zero, i.e., <span class="math inline">\((\ell = 0, k)\)</span>, then it represents a main effect <span class="math inline">\(X_k\)</span>.</p>
<p>The output <code>mod$coef</code> is a <code>nrow(mod$idx)</code>-by-<code>length(mod$lambda)</code> matrix. Each column of <code>mod$coef</code> is a vector of estimate of all variable coefficients considered in Step 3 corresponding to one value of the lasso tuning parameter <code>lambda</code>. For example, for the 30-th tuning parameter, we have the corresponding coefficient estiamte:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">estimate &lt;-<span class="st"> </span>mod<span class="op">$</span>coef[, <span class="dv">30</span>]</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">cb &lt;-<span class="st"> </span><span class="kw">cbind</span>(mod<span class="op">$</span>idx, estimate)</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">cb[cb[, <span class="dv">3</span>] <span class="op">!=</span><span class="st"> </span><span class="dv">0</span>, ]</a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="co">#&gt;      index_1 index_2   estimate</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="co">#&gt; V1         0       1  0.3062352</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="co">#&gt; V2         0       2 -0.4982855</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="co">#&gt; V221       1       3  1.9034944</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="co">#&gt; V222       4       5 -2.9489912</span></a></code></pre></div>
</div>
<div id="using-cross-validation-with-cv.sprinter" class="section level2">
<h2>Using cross-validation with <code>cv.sprinter</code></h2>
<p>The function <code>cv.sprinter()</code> performs cross-validation to select the value of lasso tuning parameter <code>lambda</code> used in Step 3, while holding the value of <code>num_keep</code> fixed.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">mod_cv &lt;-<span class="st"> </span><span class="kw">cv.sprinter</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y, <span class="dt">square =</span> <span class="ot">FALSE</span>, <span class="dt">nlam =</span> <span class="dv">100</span>, <span class="dt">lam_min_ratio =</span> <span class="fl">0.01</span>)</a></code></pre></div>
<p>The output of <code>cv.sprinter</code> is a <code>S3</code> object. The most intersting information is <code>mod_cv$compact</code>, which is a matrix of three columns. The first two columns show the index pairs of all variables finally selected by the lasso in Step 3, and the last column is the coefficient estimate corresponding to that selected variable.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">mod_cv<span class="op">$</span>compact</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="co">#&gt;       index_1 index_2  coefficient</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co">#&gt;  [1,]       0       1  0.988300175</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="co">#&gt;  [2,]       0       2 -1.454164327</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co">#&gt;  [3,]       0       4 -0.217993186</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co">#&gt;  [4,]       0      36  0.070174151</span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="co">#&gt;  [5,]       0      59 -0.028997635</span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="co">#&gt;  [6,]       0      66 -0.076081341</span></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="co">#&gt;  [7,]       0      87 -0.015292763</span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10"><span class="co">#&gt;  [8,]       0      94  0.071703217</span></a>
<a class="sourceLine" id="cb6-11" data-line-number="11"><span class="co">#&gt;  [9,]       0     112  0.032026436</span></a>
<a class="sourceLine" id="cb6-12" data-line-number="12"><span class="co">#&gt; [10,]       0     123 -0.028004284</span></a>
<a class="sourceLine" id="cb6-13" data-line-number="13"><span class="co">#&gt; [11,]       0     157 -0.167206693</span></a>
<a class="sourceLine" id="cb6-14" data-line-number="14"><span class="co">#&gt; [12,]     158     175  0.025534472</span></a>
<a class="sourceLine" id="cb6-15" data-line-number="15"><span class="co">#&gt; [13,]     141     168 -0.006547523</span></a>
<a class="sourceLine" id="cb6-16" data-line-number="16"><span class="co">#&gt; [14,]       3       5 -0.155987560</span></a>
<a class="sourceLine" id="cb6-17" data-line-number="17"><span class="co">#&gt; [15,]      95     194  0.049738621</span></a>
<a class="sourceLine" id="cb6-18" data-line-number="18"><span class="co">#&gt; [16,]       5      97  0.091145031</span></a>
<a class="sourceLine" id="cb6-19" data-line-number="19"><span class="co">#&gt; [17,]       4      29 -0.050334021</span></a>
<a class="sourceLine" id="cb6-20" data-line-number="20"><span class="co">#&gt; [18,]      17      77  0.023256339</span></a>
<a class="sourceLine" id="cb6-21" data-line-number="21"><span class="co">#&gt; [19,]      30     168 -0.052412220</span></a>
<a class="sourceLine" id="cb6-22" data-line-number="22"><span class="co">#&gt; [20,]     115     175 -0.027360353</span></a>
<a class="sourceLine" id="cb6-23" data-line-number="23"><span class="co">#&gt; [21,]       1       3  2.471482722</span></a>
<a class="sourceLine" id="cb6-24" data-line-number="24"><span class="co">#&gt; [22,]       4       5 -3.583816424</span></a></code></pre></div>
<p>We see (from the first two rows and the last two rows) that the fit selected by cross-validation includes all the four important variables in the model, with relatively accurate estimates of their coefficients.</p>
<p>Finally, there is a <code>predict</code> function for the <code>S3</code> object returned by <code>cv.sprinter</code> that computes the prediction for a new data matrix of main effects:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">newdata &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">20</span> <span class="op">*</span><span class="st"> </span>p), <span class="dt">nrow =</span> <span class="dv">20</span>, <span class="dt">ncol =</span> p)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2">pred &lt;-<span class="st"> </span><span class="kw">predict</span>(mod_cv, <span class="dt">newdata =</span> newdata)</a></code></pre></div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
