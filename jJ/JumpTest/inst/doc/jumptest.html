<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">



<title>jumptest.utf8</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' || rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>

</head>

<body>




<h1 class="title toc-ignore"><center>
Package JumpTest usage tips</h1>
<h4 class="author"><em><center>
Kaiqiao Li, and Pei Fen Kuan
<center>
Department of Applied Mathematics and Statistics, Stony Brook University
<center>
Stony Brook, NY 11790</em></h4>
<h4 class="date"><em><center>
2019-01-14</em></h4>



<div id="overview" class="section level2">
<h2>Overview</h2>
<p>This vignette provides an introduction to nonparametric tests to financial jump detection. R package <code>JumpTest</code> provided both simulation methods and test methods with multiple tests correction. The package can be loaded with command:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(JumpTest)</a></code></pre></div>
<pre><code>## Loading required package: MASS</code></pre>
</div>
<div id="workflow-meta-analysis" class="section level2">
<h2>Workflow: Meta Analysis</h2>
<p>This package provided analysis on high frequency stock markets. You can simply simulate the data using the simulation codes we provided. For example you can simulate a stoachasitc volatility with one factor and jump (SV1FJ) model <span class="citation">(Dumitru and Urga 2012)</span> for 1200 days using the following code.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">M &lt;-<span class="st"> </span><span class="dv">390</span><span class="op">*</span><span class="dv">60</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">m &lt;-<span class="st"> </span><span class="dv">1200</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3">pric &lt;-<span class="st"> </span><span class="kw">SV1FJ</span>(M,m,<span class="dv">3</span>,.<span class="dv">2</span>,.<span class="dv">03</span>,.<span class="dv">5</span>,<span class="dv">0</span>,.<span class="dv">125</span>,<span class="op">-</span>.<span class="dv">1</span>,<span class="op">-</span>.<span class="dv">62</span>)</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">lp &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">3</span>,pric[,<span class="dv">1</span>])</a>
<a class="sourceLine" id="cb3-5" data-line-number="5">lr &lt;-<span class="st"> </span><span class="kw">diff</span>(lp[<span class="kw">seq</span>(<span class="dv">1</span>,M<span class="op">*</span>m<span class="op">+</span><span class="dv">1</span>,<span class="dv">60</span>)])</a>
<a class="sourceLine" id="cb3-6" data-line-number="6">logreturn &lt;-<span class="st"> </span><span class="kw">matrix</span>(lr,<span class="dt">ncol=</span>m)</a></code></pre></div>
<p>Here we simulated our data by seconds, while we grabbed the minute level data and saved the log returns per day by columns. Then we can used the following code to obtain the p-values for three methods (BNS <span class="citation">(Barndorff-Nielsen, Shephard, and Winkel 2006)</span>, Amed, and Amin <span class="citation">(Andersen, Dobrev, and Schaumburg 2012)</span>).</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">pmat &lt;-<span class="st"> </span><span class="kw">pcombine</span>(logreturn,<span class="kw">c</span>(<span class="st">&#39;BNS&#39;</span>,<span class="st">&#39;Amed&#39;</span>,<span class="st">&#39;Amin&#39;</span>))</a></code></pre></div>
<p>Then we can obtain the p-value matrix for the three methods. We can do further p-values pooling and FDR control via BH <span class="citation">(Benjamini and Hochberg 1995, <span class="citation">@yen2013testing</span>)</span> procedure. We provided six pooling methods, four for independent <span class="citation">(Won et al. 2009, <span class="citation">@chang2013meta</span>)</span> and two for dependent <span class="citation">(Chang et al. 2013)</span> strucure. We suggested Stouffer’s dependent (SD) structure.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">res &lt;-<span class="st"> </span><span class="kw">ppool</span>(pmat)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">pvalue &lt;-<span class="st"> </span>res<span class="op">@</span>pvalue</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">pvalue_adjusted &lt;-<span class="st"> </span>res<span class="op">@</span>adjp</a></code></pre></div>
</div>
<div id="conclusion-and-ongoing-work" class="section level2">
<h2>Conclusion and Ongoing Work</h2>
<p>R package <code>JumpTest</code> provides effective tools to detect jump in high frequency stock market data. It can efficiently identify intervals that contain jumps. In the future we may develop methods that can locate the exact location of jumps.</p>
</div>
<div id="references" class="section level2 unnumbered">
<h2>REFERENCES</h2>
<div id="refs" class="references">
<div id="ref-andersen2012jump">
<p>Andersen, Torben G, Dobrislav Dobrev, and Ernst Schaumburg. 2012. “Jump-Robust Volatility Estimation Using Nearest Neighbor Truncation.” <em>Journal of Econometrics</em> 169 (1). Elsevier: 75–93.</p>
</div>
<div id="ref-barndorff2006limit">
<p>Barndorff-Nielsen, Ole E, Neil Shephard, and Matthias Winkel. 2006. “Limit Theorems for Multipower Variation in the Presence of Jumps.” <em>Stochastic Processes and Their Applications</em> 116 (5). Elsevier: 796–806.</p>
</div>
<div id="ref-benjamini1995controlling">
<p>Benjamini, Yoav, and Yosef Hochberg. 1995. “Controlling the False Discovery Rate: A Practical and Powerful Approach to Multiple Testing.” <em>Journal of the Royal Statistical Society. Series B (Methodological)</em>. JSTOR, 289–300.</p>
</div>
<div id="ref-chang2013meta">
<p>Chang, Lun-Ching, Hui-Min Lin, Etienne Sibille, and George C Tseng. 2013. “Meta-Analysis Methods for Combining Multiple Expression Profiles: Comparisons, Statistical Characterization and an Application Guideline.” <em>BMC Bioinformatics</em> 14 (1). BioMed Central: 368.</p>
</div>
<div id="ref-dumitru2012identifying">
<p>Dumitru, Ana-Maria, and Giovanni Urga. 2012. “Identifying Jumps in Financial Assets: A Comparison Between Nonparametric Jump Tests.” <em>Journal of Business &amp; Economic Statistics</em> 30 (2). Taylor &amp; Francis: 242–55.</p>
</div>
<div id="ref-won2009choosing">
<p>Won, Sungho, Nathan Morris, Qing Lu, and Robert C Elston. 2009. “Choosing an Optimal Method to Combine P-Values.” <em>Statistics in Medicine</em> 28 (11). Wiley Online Library: 1537–53.</p>
</div>
<div id="ref-yen2013testing">
<p>Yen, Yu-Min. 2013. “Testing Jumps via False Discovery Rate Control.” <em>PloS One</em> 8 (4). Public Library of Science: e58365.</p>
</div>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
